(this.webpackJsonpsomeapp=this.webpackJsonpsomeapp||[]).push([[0],{52:function(e,t,n){},64:function(e,t,n){"use strict";n.r(t);var c=n(2),s=n.n(c),a=n(10),i=n.n(a),r=n(5),o=n(6),u=n.n(o),j="/api/julkaisut",l=function(){return u.a.get(j).then((function(e){return e.data}))},d=function(e){return u.a.post(j,e).then((function(e){return e.data}))},b=function(e,t){return u.a.put("".concat(j,"/").concat(e),t).then((function(e){return e.data}))},h=function(e){return u.a.delete("".concat(j,"/").concat(e)).then((function(e){return e.data}))},O=(n(52),n(4)),x=n(1),f=function(e){var t=e.posts,n=e.likePost;return Object(x.jsx)("div",{className:"julkaisu",children:Object(x.jsxs)("div",{className:"content",children:[Object(x.jsx)("h1",{className:"user",children:"User"}),Object(x.jsx)("div",{className:"contenttext",children:Object(x.jsxs)("p",{children:[t.content," "]})}),Object(x.jsxs)("div",{className:"buttons",children:[Object(x.jsx)(O.c,{className:"likeButton",onClick:n}),t.likes," likes",Object(x.jsx)("button",{className:"viewButton",children:"View"})]})]})})},m=function(e){var t=e.posts,n=e.likePost,c=e.removeJulkaisu;return Object(x.jsx)("div",{className:"julkaisut",children:t.map((function(e){return Object(x.jsx)(f,{likePost:function(){return n(e.id)},removeJulkaisu:function(){return c(e.id)},posts:e},e.id)}))})},v=function(e){var t=e.content,n=e.handleChange,c=e.addJulkaisu;return Object(x.jsxs)("div",{className:"formContainer",children:[Object(x.jsx)("h1",{className:"formHeader",children:"Sup m8"}),Object(x.jsxs)("form",{className:"formJulkaisu",children:[Object(x.jsx)("textarea",{maxLength:"200",rows:"5",cols:"30",className:"inputForm",type:"text",value:t,onChange:n,placeholder:"Write text here"}),Object(x.jsx)("div",{children:Object(x.jsx)("button",{className:"julkaisuButton",onClick:c,children:"Lisaa"})})]})]})};var p=function(){var e=Object(c.useState)([]),t=Object(r.a)(e,2),n=t[0],s=t[1],a=Object(c.useState)(""),i=Object(r.a)(a,2),o=i[0],u=i[1];return Object(c.useEffect)((function(){l().then((function(e){s(e)}))}),[]),Object(x.jsxs)("div",{className:"main",children:[Object(x.jsx)(v,{content:o,handleChange:function(e){u(e.target.value)},addJulkaisu:function(e){e.preventDefault();var t={content:o,date:(new Date).toISOString(),likes:0};d(t).then((function(e){s(n.concat(e)),u("")}))}}),Object(x.jsx)(m,{posts:n,likePost:function(e){var t=n.find((function(t){return t.id===e}));console.log(t);var c=t.likes+1;console.log(c);var a={content:t.content,date:(new Date).toISOString(),likes:c};b(e,a).then((function(e){l().then((function(e){s(e)}))}))},removeJulkaisu:function(e){h(e).then((function(e){l().then((function(e){s(e)}))}))}})]})},k=n(16),N=n(17),g=n(29);function S(){function e(e){return Object(x.jsxs)("a",{href:"#",className:"menuitem",children:[Object(x.jsx)("span",{className:"iconbutton",children:e.leftIcon}),e.children,Object(x.jsx)("span",{className:"iconbutton",children:e.rightIcon})]})}return Object(x.jsxs)("div",{className:"dropdown",children:[Object(x.jsx)(e,{leftIcon:Object(x.jsx)(k.b,{}),rightIcon:Object(x.jsx)(N.a,{}),children:"Settings"}),Object(x.jsx)(e,{leftIcon:Object(x.jsx)(k.a,{}),rightIcon:Object(x.jsx)(N.a,{}),children:"Log out"})]})}function I(e){var t=Object(c.useState)(!1),n=Object(r.a)(t,2),s=n[0],a=n[1];return Object(x.jsxs)("li",{className:"navitem",children:[Object(x.jsx)("p",{className:"iconbutton",onClick:function(){return a(!s)},children:e.icon}),s?Object(x.jsx)(S,{}):Object(x.jsx)("div",{})]})}function w(e){return Object(x.jsx)("li",{className:"navitem",children:Object(x.jsx)("p",{className:"iconbutton",onClick:e.event,children:e.icon})})}function C(e){return Object(x.jsx)("nav",{className:"nav",children:Object(x.jsx)("ul",{className:"navnav",children:e.children})})}var J=function(){return Object(x.jsxs)(C,{children:[Object(x.jsx)(I,{icon:Object(x.jsx)(O.b,{})}),Object(x.jsx)(w,{icon:Object(x.jsx)(O.a,{}),event:function(){g.animateScroll.scrollToTop()}})]})};var B=function(){return Object(x.jsxs)("div",{className:"App",children:[Object(x.jsx)(J,{}),Object(x.jsx)(p,{})]})};i.a.render(Object(x.jsx)(s.a.StrictMode,{children:Object(x.jsx)(B,{})}),document.getElementById("root"))}},[[64,1,2]]]);
//# sourceMappingURL=main.98e1fc3e.chunk.js.map