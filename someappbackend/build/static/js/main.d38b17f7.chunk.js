(this.webpackJsonpsomeapp=this.webpackJsonpsomeapp||[]).push([[0],{52:function(t,e,n){},64:function(t,e,n){"use strict";n.r(e);var c=n(2),s=n.n(c),i=n(10),a=n.n(i),o=n(5),r=n(6),u=n.n(r),j="/api/julkaisut",l=function(){return u.a.get(j).then((function(t){return t.data}))},d=function(t){return u.a.post(j,t).then((function(t){return t.data}))},b=function(t,e){return u.a.put("".concat(j,"/").concat(t),e).then((function(t){return t.data}))},h=function(t){return u.a.delete("".concat(j,"/").concat(t)).then((function(t){return t.data}))},O=(n(52),n(4)),x=n(1),f=function(t){var e=t.posts,n=t.likePost;return Object(x.jsx)("div",{className:"julkaisu",children:Object(x.jsxs)("div",{className:"content",children:[Object(x.jsx)("div",{className:"contenttext",children:Object(x.jsxs)("p",{children:[e.content," "]})}),Object(x.jsxs)("div",{className:"buttons",children:[Object(x.jsx)(O.c,{className:"likeButton",onClick:n}),e.likes,Object(x.jsx)("button",{className:"viewButton",children:"View"})]})]})})},m=function(t){var e=t.posts,n=t.likePost,c=t.removeJulkaisu;return Object(x.jsx)("div",{className:"julkaisut",children:e.map((function(t){return Object(x.jsx)(f,{likePost:function(){return n(t.id)},removeJulkaisu:function(){return c(t.id)},posts:t},t.id)}))})},v=function(t){var e=t.content,n=t.handleChange,c=t.addJulkaisu;return Object(x.jsxs)("div",{className:"formContainer",children:[Object(x.jsx)("h1",{children:"Sup m8"}),Object(x.jsxs)("form",{className:"formJulkaisu",children:[Object(x.jsx)("textarea",{maxLength:"100",rows:"5",cols:"30",className:"inputForm",type:"text",value:e,onChange:n,placeholder:"Write text here"}),Object(x.jsx)("div",{children:Object(x.jsx)("button",{className:"julkaisuButton",onClick:c,children:"Lisaa"})})]})]})};var p=function(){var t=Object(c.useState)([]),e=Object(o.a)(t,2),n=e[0],s=e[1],i=Object(c.useState)(""),a=Object(o.a)(i,2),r=a[0],u=a[1];return Object(c.useEffect)((function(){l().then((function(t){s(t)}))}),[]),Object(x.jsxs)("div",{className:"main",children:[Object(x.jsx)(v,{content:r,handleChange:function(t){u(t.target.value)},addJulkaisu:function(t){t.preventDefault();var e={content:r,date:(new Date).toISOString(),likes:0};d(e).then((function(t){s(n.concat(t)),u("")}))}}),Object(x.jsx)(m,{posts:n,likePost:function(t){var e=n.find((function(e){return e.id===t}));console.log(e);var c=e.likes+1;console.log(c);var i={content:e.content,date:(new Date).toISOString(),likes:c};b(t,i).then((function(t){l().then((function(t){s(t)}))}))},removeJulkaisu:function(t){h(t).then((function(t){l().then((function(t){s(t)}))}))}})]})},k=n(16),N=n(17),g=n(29);function S(){function t(t){return Object(x.jsxs)("a",{href:"#",className:"menuitem",children:[Object(x.jsx)("span",{className:"iconbutton",children:t.leftIcon}),t.children,Object(x.jsx)("span",{className:"iconbutton",children:t.rightIcon})]})}return Object(x.jsxs)("div",{className:"dropdown",children:[Object(x.jsx)(t,{leftIcon:Object(x.jsx)(k.b,{}),rightIcon:Object(x.jsx)(N.a,{}),children:"Settings"}),Object(x.jsx)(t,{leftIcon:Object(x.jsx)(k.a,{}),rightIcon:Object(x.jsx)(N.a,{}),children:"Log out"})]})}function I(t){var e=Object(c.useState)(!1),n=Object(o.a)(e,2),s=n[0],i=n[1];return Object(x.jsxs)("li",{className:"navitem",children:[Object(x.jsx)("p",{className:"iconbutton",onClick:function(){return i(!s)},children:t.icon}),s?Object(x.jsx)(S,{}):Object(x.jsx)("div",{})]})}function w(t){return Object(x.jsx)("li",{className:"navitem",children:Object(x.jsx)("p",{className:"iconbutton",onClick:t.event,children:t.icon})})}function C(t){return Object(x.jsx)("nav",{className:"nav",children:Object(x.jsx)("ul",{className:"navnav",children:t.children})})}var J=function(){return Object(x.jsxs)(C,{children:[Object(x.jsx)(I,{icon:Object(x.jsx)(O.b,{})}),Object(x.jsx)(w,{icon:Object(x.jsx)(O.a,{}),event:function(){g.animateScroll.scrollToTop()}})]})};var B=function(){return Object(x.jsxs)("div",{className:"App",children:[Object(x.jsx)(J,{}),Object(x.jsx)(p,{})]})};a.a.render(Object(x.jsx)(s.a.StrictMode,{children:Object(x.jsx)(B,{})}),document.getElementById("root"))}},[[64,1,2]]]);
//# sourceMappingURL=main.d38b17f7.chunk.js.map